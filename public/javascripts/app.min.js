/*! untitled 2015-06-05 */
var app=angular.module("app",["ngRoute","ngResource","ui.bootstrap","appControllers","ngMap"]),appControllers=angular.module("appControllers",[]);app.config(["$routeProvider","$httpProvider",function(a,b){a.when("/adminPage",{templateUrl:"/views/routes/admin.html",controller:"RegistrationController"}).when("/input",{templateUrl:"/views/routes/input.html",controller:"RegistrationController"}).when("/about",{templateUrl:"/views/routes/about.html",controller:"sendMessage"}).when("/submission",{templateUrl:"/views/routes/submission.html"}).when("/comingsoon",{templateUrl:"/views/routes/comingsoon.html"}).when("/locations",{templateUrl:"/views/routes/locations.html"}).when("/locationsFilter",{templateUrl:"/views/routes/locationsFilter.html"}).when("/location",{templateUrl:"/views/routes/location.html"}).when("/resources",{templateUrl:"/views/routes/resources.html",controller:"ResourcesController"}).when("/",{templateUrl:"/views/routes/home.html"}).otherwise({redirectTo:"/"}),b.interceptors.push(["$location","$q",function(a,b){return{response:function(a){return console.log(a),200===a.status?(console.log("we made it inside of here"),a):void 0},responseError:function(a){return console.log("404 error"),401===a.status?(alert("Incorrect Username or Password"),b.reject(a)):void 0}}}])}]),app.controller("LocationsController",["$scope","$http","$location",function(a,b,c){a.location={},a.locations=[],a.go=function(a){c.path(a)},a.reloadRoute=function(){a.go("/")};var d=function(){return console.log("click worked"),b.get("/locations").then(function(b){if(200!==b.status)throw new Error("Failed to fetch locations from the API");return a.location={},a.locations=b.data,console.log(b.data),b.data})};d(),a.add=function(){a.locationClick=!0,d()},a.yoga="Yoga",a.pilates="Pilates",a.barre="Barre",a.hiit="HIIT",a.crossfit="Crossfit",a.general="General Fitness",a.filter=function(c){a.locationClick=!0,console.log(c),b({url:"/locations/search",method:"GET",params:{fitnessType:c}}).then(function(b){if(200!==b.status)throw new Error("Failed to fetch locations from the API");a.location={},a.locations=b.data,console.log(b.data),null==b.data[0]&&a.go("/comingsoon")})},a.search=function(d){a.locationClick=!0,c.url("/locations"),console.log(d),b({url:"/locations/search",method:"GET",params:{name:d}}).then(function(b){if(200!==b.status)throw new Error("Failed to fetch locations from the API");return a.location={},a.locations=b.data,console.log(b.data),b.data})},a.el,a.searchLocation=function(c){a.locationClick=!0,console.log(c),b({url:"/locations/search",method:"GET",params:{name:c}}).then(function(b){if(200!==b.status)throw new Error("Failed to fetch locations from the API");a.location={},a.locations=b.data,a.website="http://"+b.data[0].website,console.log(a.website),console.log(b.data[0].coordinates),a.el=b.data[0].coordinates,console.log(a.el),a.locationClick=!0,a.locationMap=!0,void 0==b.data[0].coordinates&&(console.log("empty"),a.locationMap=!1)}).then(function(){a.go("/location")})},a.locationPage=function(){a.go("/locations")},a.showInput=function(){a.show=!0},a.logOut=function(){console.log("successful logout"),window.location.href="/"}}]);